// pipeline {
//     agent any 
//     stages {
//         stage('build'){
//             sh """
//             aws ecr get-login | docker login 
//             docker build -t ecrurl:$BUILD_NUMBER .
//             docker push ecrurl:$BUILD_NUMBER
//             """

             
//         }
//     }
// }


pipeline {
    agent any 
    stages {
        stage("build"){
            steps {
                script {
            sh """
            sudo aws ecr get-login-password --region us-east-1 | sudo docker login --username AWS --password-stdin 778168509800.dkr.ecr.us-east-1.amazonaws.com
            sudo docker build -t 778168509800.dkr.ecr.us-east-1.amazonaws.com/frontend:latest .
            sudo docker push 778168509800.dkr.ecr.us-east-1.amazonaws.com/frontend:latest 

            """
        }
         }
    }
}
}
